{"ast":null,"code":"var _jsxFileName = \"/Users/jesusvargas/Documents/GitHub/recoil-paint/src/components/infobar/ColorPicker.js\";\nimport React, { useCallback, useState, useEffect } from 'react';\nimport { View, StyleSheet } from 'react-native-web';\nimport { SketchPicker } from 'react-color';\nimport { useRecoilState } from 'recoil';\nimport { backgroundColorState } from '../../recoil/atoms';\nexport default function ColorPicker() {\n  const [shown, setShown] = useState(false);\n  const [backgroundColor, setBackgroundColor] = useRecoilState(backgroundColorState);\n  const handleChangeComplete = useCallback(color => {\n    setBackgroundColor(color.hex);\n  }, [setBackgroundColor]);\n  const handleClick = useCallback(() => {\n    setShown(true);\n  }, []);\n  useEffect(() => {\n    function hidePopup(e) {\n      if (e.target.closest('#color-picker')) {\n        return;\n      }\n\n      setShown(false);\n    }\n\n    document.body.addEventListener('click', hidePopup);\n    return () => {\n      document.body.removeEventListener('click', hidePopup);\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(View, {\n    style: styles.root,\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(View, {\n    style: [styles.inner, {\n      backgroundColor: backgroundColor\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }), shown && /*#__PURE__*/React.createElement(View, {\n    style: styles.popup,\n    nativeID: \"color-picker\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SketchPicker, {\n    color: backgroundColor,\n    onChangeComplete: handleChangeComplete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  })));\n}\nconst styles = StyleSheet.create({\n  root: {\n    borderRadius: '50%',\n    backgroundColor: 'white',\n    borderWidth: 1,\n    borderColor: '#d6d8d9',\n    width: 24,\n    height: 24,\n    marginLeft: 16,\n    padding: 2\n  },\n  inner: {\n    borderRadius: '50%',\n    width: 18,\n    height: 18\n  },\n  popup: {\n    position: 'absolute',\n    right: 32\n  }\n});","map":{"version":3,"sources":["/Users/jesusvargas/Documents/GitHub/recoil-paint/src/components/infobar/ColorPicker.js"],"names":["React","useCallback","useState","useEffect","View","StyleSheet","SketchPicker","useRecoilState","backgroundColorState","ColorPicker","shown","setShown","backgroundColor","setBackgroundColor","handleChangeComplete","color","hex","handleClick","hidePopup","e","target","closest","document","body","addEventListener","removeEventListener","styles","root","inner","popup","create","borderRadius","borderWidth","borderColor","width","height","marginLeft","padding","position","right"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,WAAhB,EAA6BC,QAA7B,EAAuCC,SAAvC,QAAwD,OAAxD;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,kBAAjC;AACA,SAASC,YAAT,QAA6B,aAA7B;AACA,SAASC,cAAT,QAA+B,QAA/B;AACA,SAASC,oBAAT,QAAqC,oBAArC;AAEA,eAAe,SAASC,WAAT,GAAuB;AACpC,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,KAAD,CAAlC;AACA,QAAM,CAACU,eAAD,EAAkBC,kBAAlB,IAAwCN,cAAc,CAACC,oBAAD,CAA5D;AAEA,QAAMM,oBAAoB,GAAGb,WAAW,CAAEc,KAAD,IAAW;AAClDF,IAAAA,kBAAkB,CAACE,KAAK,CAACC,GAAP,CAAlB;AACD,GAFuC,EAErC,CAACH,kBAAD,CAFqC,CAAxC;AAIA,QAAMI,WAAW,GAAGhB,WAAW,CAAC,MAAM;AACpCU,IAAAA,QAAQ,CAAC,IAAD,CAAR;AACD,GAF8B,EAE5B,EAF4B,CAA/B;AAIAR,EAAAA,SAAS,CAAC,MAAM;AACd,aAASe,SAAT,CAAmBC,CAAnB,EAAsB;AACpB,UAAIA,CAAC,CAACC,MAAF,CAASC,OAAT,CAAiB,eAAjB,CAAJ,EAAuC;AACrC;AACD;;AACDV,MAAAA,QAAQ,CAAC,KAAD,CAAR;AACD;;AAEDW,IAAAA,QAAQ,CAACC,IAAT,CAAcC,gBAAd,CAA+B,OAA/B,EAAwCN,SAAxC;AAEA,WAAO,MAAM;AACXI,MAAAA,QAAQ,CAACC,IAAT,CAAcE,mBAAd,CAAkC,OAAlC,EAA2CP,SAA3C;AACD,KAFD;AAGD,GAbQ,EAaN,EAbM,CAAT;AAeA,sBACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEQ,MAAM,CAACC,IAApB;AAA0B,IAAA,OAAO,EAAEV,WAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE,CAACS,MAAM,CAACE,KAAR,EAAe;AAAEhB,MAAAA,eAAe,EAAEA;AAAnB,KAAf,CAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEGF,KAAK,iBACJ,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEgB,MAAM,CAACG,KAApB;AAA2B,IAAA,QAAQ,EAAC,cAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,YAAD;AACE,IAAA,KAAK,EAAEjB,eADT;AAEE,IAAA,gBAAgB,EAAEE,oBAFpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAHJ,CADF;AAaD;AAED,MAAMY,MAAM,GAAGrB,UAAU,CAACyB,MAAX,CAAkB;AAC/BH,EAAAA,IAAI,EAAE;AACJI,IAAAA,YAAY,EAAE,KADV;AAEJnB,IAAAA,eAAe,EAAE,OAFb;AAGJoB,IAAAA,WAAW,EAAE,CAHT;AAIJC,IAAAA,WAAW,EAAE,SAJT;AAKJC,IAAAA,KAAK,EAAE,EALH;AAMJC,IAAAA,MAAM,EAAE,EANJ;AAOJC,IAAAA,UAAU,EAAE,EAPR;AAQJC,IAAAA,OAAO,EAAE;AARL,GADyB;AAW/BT,EAAAA,KAAK,EAAE;AACLG,IAAAA,YAAY,EAAE,KADT;AAELG,IAAAA,KAAK,EAAE,EAFF;AAGLC,IAAAA,MAAM,EAAE;AAHH,GAXwB;AAgB/BN,EAAAA,KAAK,EAAE;AACLS,IAAAA,QAAQ,EAAE,UADL;AAELC,IAAAA,KAAK,EAAE;AAFF;AAhBwB,CAAlB,CAAf","sourcesContent":["import React, { useCallback, useState, useEffect } from 'react';\nimport { View, StyleSheet } from 'react-native-web';\nimport { SketchPicker } from 'react-color';\nimport { useRecoilState } from 'recoil';\nimport { backgroundColorState } from '../../recoil/atoms';\n\nexport default function ColorPicker() {\n  const [shown, setShown] = useState(false);\n  const [backgroundColor, setBackgroundColor] = useRecoilState(backgroundColorState);\n\n  const handleChangeComplete = useCallback((color) => {\n    setBackgroundColor(color.hex);\n  }, [setBackgroundColor]);\n\n  const handleClick = useCallback(() => {\n    setShown(true);\n  }, []);\n\n  useEffect(() => {\n    function hidePopup(e) {\n      if (e.target.closest('#color-picker')) {\n        return;\n      }\n      setShown(false);\n    }\n\n    document.body.addEventListener('click', hidePopup);\n\n    return () => {\n      document.body.removeEventListener('click', hidePopup);\n    }\n  }, []);\n\n  return (\n    <View style={styles.root} onClick={handleClick}>\n      <View style={[styles.inner, { backgroundColor: backgroundColor }]} />\n      {shown && (\n        <View style={styles.popup} nativeID=\"color-picker\">\n          <SketchPicker\n            color={backgroundColor}\n            onChangeComplete={handleChangeComplete}\n          />\n        </View>\n      )}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  root: {\n    borderRadius: '50%',\n    backgroundColor: 'white',\n    borderWidth: 1,\n    borderColor: '#d6d8d9',\n    width: 24,\n    height: 24,\n    marginLeft: 16,\n    padding: 2,\n  },\n  inner: {\n    borderRadius: '50%',\n    width: 18,\n    height: 18,\n  },\n  popup: {\n    position: 'absolute',\n    right: 32,\n  }\n})\n"]},"metadata":{},"sourceType":"module"}